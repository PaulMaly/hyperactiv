!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("hyperactiv")):"function"==typeof define&&define.amd?define(["exports","react","hyperactiv"],t):t(e["react-hyperactiv"]={},e.React,e.hyperactiv)}(this,function(e,t,r){"use strict";r=r&&r.hasOwnProperty("default")?r.default:r;const{observe:n,computed:s,dispose:c}=r;e.Watch=class extends t.PureComponent{constructor(e){super(e),this._callback=(()=>{this.__mounted&&this.forceUpdate.bind(this)()}),this.state={render:this.computeRenderMethod(e.render)}}componentWillUnmount(){this.__mounted=!1,this.state.render&&(c(this.state.render),c(this._callback))}componentDidMount(){this.__mounted=!0}computeRenderMethod(e){if(this._currentRender!==e){if(!e)return null;this._currentRender=s(e,{autoRun:!1,callback:this._callback})}return this._currentRender}render(){const{render:e}=this.props;return this.computeRenderMethod(e),this._currentRender&&this._currentRender()||null}},e.store=function(e,t={}){return n(e,Object.assign({deep:!0,batch:!0},t))},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=index.js.map
