!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("hyperactiv")):"function"==typeof define&&define.amd?define(["exports","react","hyperactiv"],t):t(e["react-hyperactiv"]={},e.React,e.hyperactiv)}(this,function(e,t,r){"use strict";var n="default"in t?t.default:t;r=r&&r.hasOwnProperty("default")?r.default:r;const{observe:s,computed:o,dispose:i}=r;e.Watch=class extends t.PureComponent{constructor(e){super(e),this.state={}}componentWillUnmount(){this.__mounted=!1,this.state.render&&i(this.state.render)}componentDidMount(){this.__mounted=!0,this.refreshWatcherInState()}componentDidUpdate(e){e.render!==this.props.render&&(i(e.render),this.refreshWatcherInState())}refreshWatcherInState(){this.props.render&&this.setState({render:o(this.props.render,{autoRun:!1,callback:()=>{this.__mounted&&this.forceUpdate.bind(this)()}})})}render(){const{render:e}=this.state;return n.createElement(t.Fragment,[],e&&e())}},e.store=function(e,t={}){return s(e,Object.assign({deep:!0,batch:!0},t))},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=index.js.map
