!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e["hyperactiv-handlers"]=n()}(this,function(){"use strict";const e=function(e){return Number.isInteger(Number.parseInt(e,10))?[]:{}};return{write:function(n){if(!n)throw new Error("writeHandler needs a proper target !");return function(r,t){var o;t=(o=t)&&"object"==typeof o?JSON.parse(JSON.stringify(t)):t;for(let t=0;t<r.length-1;t++){var i=r[t];const o=r[t+1];void 0===n[i]&&(n[i]=e(o)),n=n[i]}n[r[r.length-1]]=t}},debug:function(e){return e=e||console,function(n,r){const t=n.map(e=>Number.isInteger(Number.parseInt(e))?`[${e}]`:`.${e}`).join("").substr(1);e.log(`${t} = ${JSON.stringify(r,null,"\t")}`)}},all:function(e){return Array.isArray(e)?(n,r,t)=>e.forEach(e=>e(n,r,t)):e}}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGFuZGxlcnMubWFwLmpzIiwic291cmNlcyI6WyIuLi9zcmMvaGFuZGxlcnMvYWxsLmpzIiwiLi4vc3JjL2hhbmRsZXJzL3dyaXRlLmpzIiwiLi4vc3JjL2hhbmRsZXJzL2luZGV4LmpzIiwiLi4vc3JjL2hhbmRsZXJzL2RlYnVnLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBhbGxIYW5kbGVyID0gZnVuY3Rpb24oaGFuZGxlcnMpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShoYW5kbGVycykgP1xuICAgICAgICAoa2V5cywgdmFsdWUsIHByb3h5KSA9PiBoYW5kbGVycy5mb3JFYWNoKGZuID0+IGZuKGtleXMsIHZhbHVlLCBwcm94eSkpIDpcbiAgICAgICAgaGFuZGxlcnNcbn0iLCJjb25zdCBpc09iaiA9IGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8gJiYgdHlwZW9mIG8gPT09ICdvYmplY3QnIH1cbmNvbnN0IGdldFdyaXRlQ29udGV4dCA9IGZ1bmN0aW9uKHByb3ApIHtcbiAgICByZXR1cm4gTnVtYmVyLmlzSW50ZWdlcihOdW1iZXIucGFyc2VJbnQocHJvcCwgMTApKSA/IFtdIDoge31cbn1cbmV4cG9ydCBjb25zdCB3cml0ZUhhbmRsZXIgPSBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICBpZighdGFyZ2V0KSB0aHJvdyBuZXcgRXJyb3IoJ3dyaXRlSGFuZGxlciBuZWVkcyBhIHByb3BlciB0YXJnZXQgIScpXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHByb3BzLCB2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IGlzT2JqKHZhbHVlKSA/IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodmFsdWUpKSA6IHZhbHVlXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwcm9wID0gcHJvcHNbaV1cbiAgICAgICAgICAgIGNvbnN0IG5leHRQcm9wID0gcHJvcHNbaSArIDFdXG4gICAgICAgICAgICBpZih0eXBlb2YgdGFyZ2V0W3Byb3BdID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICB0YXJnZXRbcHJvcF0gPSBnZXRXcml0ZUNvbnRleHQobmV4dFByb3ApXG4gICAgICAgICAgICB0YXJnZXQgPSB0YXJnZXRbcHJvcF1cbiAgICAgICAgfVxuICAgICAgICB0YXJnZXRbcHJvcHNbcHJvcHMubGVuZ3RoIC0gMV1dID0gdmFsdWVcbiAgICB9XG59IiwiaW1wb3J0IHsgYWxsSGFuZGxlciB9IGZyb20gJy4vYWxsJ1xuaW1wb3J0IHsgZGVidWdIYW5kbGVyIH0gZnJvbSAnLi9kZWJ1ZydcbmltcG9ydCB7IHdyaXRlSGFuZGxlciB9IGZyb20gJy4vd3JpdGUnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICB3cml0ZTogd3JpdGVIYW5kbGVyLFxuICAgIGRlYnVnOiBkZWJ1Z0hhbmRsZXIsXG4gICAgYWxsOiBhbGxIYW5kbGVyXG59IiwiZXhwb3J0IGNvbnN0IGRlYnVnSGFuZGxlciA9IGZ1bmN0aW9uKGxvZ2dlcikge1xuICAgIGxvZ2dlciA9IGxvZ2dlciB8fCBjb25zb2xlXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHByb3BzLCB2YWx1ZSkge1xuICAgICAgICBjb25zdCBrZXlzID0gcHJvcHMubWFwKHByb3AgPT4gTnVtYmVyLmlzSW50ZWdlcihOdW1iZXIucGFyc2VJbnQocHJvcCkpID8gYFske3Byb3B9XWAgOiBgLiR7cHJvcH1gKS5qb2luKCcnKS5zdWJzdHIoMSlcbiAgICAgICAgbG9nZ2VyLmxvZyhgJHtrZXlzfSA9ICR7SlNPTi5zdHJpbmdpZnkodmFsdWUsIG51bGwsICdcXHQnKX1gKVxuICAgIH1cbn0iXSwibmFtZXMiOlsiZ2V0V3JpdGVDb250ZXh0IiwicHJvcCIsIk51bWJlciIsImlzSW50ZWdlciIsInBhcnNlSW50Iiwid3JpdGUiLCJ0YXJnZXQiLCJFcnJvciIsInByb3BzIiwidmFsdWUiLCJvIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwiaSIsImxlbmd0aCIsIm5leHRQcm9wIiwiZGVidWciLCJsb2dnZXIiLCJjb25zb2xlIiwia2V5cyIsIm1hcCIsImpvaW4iLCJzdWJzdHIiLCJsb2ciLCJhbGwiLCJoYW5kbGVycyIsIkFycmF5IiwiaXNBcnJheSIsInByb3h5IiwiZm9yRWFjaCIsImZuIl0sIm1hcHBpbmdzIjoia01BQU8sTUNDREEsRUFBa0IsU0FBU0MsR0FDN0IsT0FBT0MsT0FBT0MsVUFBVUQsT0FBT0UsU0FBU0gsRUFBTSxtQkNHOUNJLE1ERHdCLFNBQVNDLEdBQ2pDLElBQUlBLEVBQVEsTUFBTSxJQUFJQyxNQUFNLHdDQUM1QixPQUFPLFNBQVNDLEVBQU9DLEdBTmIsSUFBU0MsRUFPZkQsR0FQZUMsRUFPREQsSUFQK0IsaUJBQU5DLEVBT2hCQyxLQUFLQyxNQUFNRCxLQUFLRSxVQUFVSixJQUFVQSxFQUMzRCxJQUFJLElBQUlLLEVBQUksRUFBR0EsRUFBSU4sRUFBTU8sT0FBUyxFQUFHRCxJQUFLLENBQ3RDLElBQUliLEVBQU9PLEVBQU1NLEdBQ2pCLE1BQU1FLEVBQVdSLEVBQU1NLEVBQUksUUFDQSxJQUFqQlIsRUFBT0wsS0FDYkssRUFBT0wsR0FBUUQsRUFBZ0JnQixJQUNuQ1YsRUFBU0EsRUFBT0wsR0FFcEJLLEVBQU9FLEVBQU1BLEVBQU1PLE9BQVMsSUFBTU4sSUNUdENRLE1DTndCLFNBQVNDLEdBRWpDLE9BREFBLEVBQVNBLEdBQVVDLFFBQ1osU0FBU1gsRUFBT0MsR0FDbkIsTUFBTVcsRUFBT1osRUFBTWEsSUFBSXBCLEdBQVFDLE9BQU9DLFVBQVVELE9BQU9FLFNBQVNILFFBQWFBLFNBQWNBLEtBQVFxQixLQUFLLElBQUlDLE9BQU8sR0FDbkhMLEVBQU9NLE9BQU9KLE9BQVVULEtBQUtFLFVBQVVKLEVBQU8sS0FBTSxXREd4RGdCLElGUHNCLFNBQVNDLEdBQy9CLE9BQU9DLE1BQU1DLFFBQVFGLEdBQ2pCLENBQUNOLEVBQU1YLEVBQU9vQixJQUFVSCxFQUFTSSxRQUFRQyxHQUFNQSxFQUFHWCxFQUFNWCxFQUFPb0IsSUFDL0RIIn0=
